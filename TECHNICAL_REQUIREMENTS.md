# Тестовое задание на вакансию Python-разработчик

При разработке необходимо использовать **Flask**, **Flask-WTF**, **Flask-SQLAlchemy**. Тестовое задание можно выложить на GitHub или прислать ссылку на `.zip` на любом облачном хостинге.

## Задание

1. Создайте модели:
   - **Пользователь**:
     - Поля: `баланс`, `ставка комиссии`, `URL webhook`.
   - **Транзакция**:
     - Поля: `сумма`, `комиссия`, `статус` (значения: "ожидание", "подтверждена", "отменена", "истекла").

2. Создайте команду:
   - **`flask create-admin`** — для создания дефолтного админа.

3. Создайте админку с тремя вкладками:
   - **Дашборд**:
     - Отображение карточек со статистикой:
       - Количество пользователей.
       - Количество транзакций.
       - Сумма транзакций за текущий день.
       - Список последних транзакций.
   - **Пользователи**:
     - Возможности: создание, редактирование, удаление.
   - **Транзакции**:
     - Список транзакций.
     - Детальный просмотр транзакции с возможностью смены статуса на "Подтверждена" или "Отменена" (если текущий статус "Ожидание").

4. Создайте API методы:
   - **`/create_transaction`** (POST, JSON):
     - Входящие параметры: необязательный `ID`, `сумма`.
     - Создание транзакции с автоматическим расчетом комиссии.
   - **`/cancel_transaction`** (POST, JSON):
     - Отмена транзакции.
   - **`/check_transaction`** (GET):
     - Получение информации о транзакции.

5. **Swagger**:
   - Создайте документацию для API с помощью Swagger.

6. **Celery задача**:
   - Каждую минуту проверять транзакции со статусом "Ожидание".
   - Если прошло более 15 минут с момента создания:
     - Изменить статус на "Истекла".
     - Отправить webhook на `URL webhook` (POST, JSON: `ид транзакции`, `статус`).

7. **Неучтенный момент**:
   - Реализуйте самостоятельно один важный момент, который вы считаете необходимым.

---

## Дополнительное задание (необязательно, но приветствуется)

1. Добавьте в админке:
   - Настраиваемое авто-обновление списков (опции: 0 сек, 10 сек, 15 сек, 30 сек, 1 минута).
   - Фильтры для транзакций:
     - Отбор по пользователю.
     - Отбор по статусу.

2. Добавьте в модель пользователя:
   - Поле "роль" (значения: "админ", "обычный").
   - Реализуйте в админке ограничение доступа:
     - Админ может всё.
     - Пользователь видит только свои транзакции.

---

## Сложное задание (необязательно)

1. Добавьте в модель пользователя поле:
   - **Номер USDT кошелька**.
2. Реализуйте:
   - Генерацию кошелька в тестовой сети, если поле у пользователя не заполнено.
